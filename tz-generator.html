<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://unpkg.com/ https://cdn.jsdelivr.net/; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; object-src 'none'; media-src 'none';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), payment=(), usb=(), autoplay=()">
    <meta http-equiv="Strict-Transport-Security" content="max-age=63072000; includeSubDomains; preload">
    
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¢–ó - TechPortal</title>
    <meta name="description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–æ–≤">
    
    <!-- –ò–∫–æ–Ω–∫–∏ -->
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon-192.svg">
    
    <!-- PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="TechPortal">
    
    <!-- –®—Ä–∏—Ñ—Ç—ã -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        :root {
            /* –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —á—Ç–æ –∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–∞–π—Ç–µ */
            --color-bg-primary: #0f172a;
            --color-bg-secondary: #1e293b;
            --color-bg-tertiary: rgba(30, 41, 59, 0.7);
            --color-bg-card: rgba(30, 41, 59, 0.8);
            --color-bg-card-hover: rgba(51, 65, 85, 0.8);
            
            --color-text-primary: #f8fafc;
            --color-text-secondary: #cbd5e1;
            --color-text-tertiary: #94a3b8;
            
            --color-primary: #3b82f6;
            --color-secondary: #8b5cf6;
            --color-accent: #10b981;
            
            --gradient-primary: linear-gradient(135deg, #3b82f6, #8b5cf6);
            --gradient-secondary: linear-gradient(135deg, #8b5cf6, #ec4899);
            --gradient-accent: linear-gradient(135deg, #10b981, #3b82f6);
            
            --font-size-xs: 0.75rem;
            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.25rem;
            --font-size-2xl: 1.5rem;
            --font-size-3xl: 1.875rem;
            --font-size-4xl: 2.25rem;
            --font-size-5xl: 3rem;
            --font-size-6xl: 3.75rem;
            
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 0.75rem;
            --spacing-lg: 1rem;
            --spacing-xl: 1.5rem;
            --spacing-2xl: 2rem;
            --spacing-3xl: 3rem;
            --spacing-4xl: 4rem;
            
            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-full: 9999px;
            
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.2);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 10px 25px rgba(0, 0, 0, 0.3);
            --shadow-glow: 0 0 15px rgba(59, 130, 246, 0.5);
            
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
            
            --z-toast: 9000;
            --z-modal: 8000;
            --z-nav: 7000;
            --z-dropdown: 6000;
            --z-header: 5000;
        }
        
        .tz-generator {
            min-height: 100vh;
            background-color: var(--color-bg-primary);
            padding: 2rem 0;
            position: relative;
        }
        
        .tz-generator::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(59, 130, 246, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        .tz-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
            position: relative;
            z-index: 1;
        }
        
        .tz-header {
            text-align: center;
            margin-bottom: var(--spacing-3xl);
            color: var(--color-text-primary);
        }
        
        .tz-title {
            font-size: var(--font-size-4xl);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .tz-subtitle {
            font-size: var(--font-size-lg);
            color: var(--color-text-secondary);
            opacity: 0.9;
        }
        
        .tz-card {
            background: var(--color-bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: var(--radius-lg);
            padding: var(--spacing-2xl);
            margin-bottom: var(--spacing-2xl);
            box-shadow: var(--shadow-lg);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-full);
            margin-bottom: var(--spacing-2xl);
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            transition: width 0.3s ease;
            width: 0%;
            box-shadow: var(--shadow-glow);
        }
        
        .step {
            display: none;
        }
        
        .step.active {
            display: block;
            animation: fadeInUp 0.5s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .step-title {
            font-size: var(--font-size-xl);
            font-weight: 600;
            margin-bottom: var(--spacing-md);
            color: var(--color-text-primary);
        }
        
        .form-group {
            margin-bottom: var(--spacing-lg);
        }
        
        .form-label {
            display: block;
            margin-bottom: var(--spacing-sm);
            font-weight: 500;
            color: var(--color-text-primary);
        }
        
        .form-input, .form-textarea {
            width: 100%;
            padding: var(--spacing-md);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-md);
            font-size: var(--font-size-base);
            transition: all var(--transition-normal);
            box-sizing: border-box;
            background: var(--color-bg-tertiary);
            color: var(--color-text-primary);
        }
        
        .form-input:focus, .form-textarea:focus {
            border-color: var(--color-primary);
            outline: none;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        
        .form-select {
            width: 100%;
            padding: var(--spacing-md) var(--spacing-xl) var(--spacing-md) var(--spacing-md);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-md);
            font-size: var(--font-size-base);
            transition: all var(--transition-normal);
            box-sizing: border-box;
            background: var(--color-bg-tertiary);
            color: var(--color-text-primary);
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: 
                linear-gradient(45deg, transparent 50%, var(--color-primary) 50%),
                linear-gradient(135deg, var(--color-primary) 50%, transparent 50%);
            background-position: 
                calc(100% - 20px) calc(1em + 2px),
                calc(100% - 15px) calc(1em + 2px);
            background-size: 
                5px 5px,
                5px 5px;
            background-repeat: no-repeat;
        }
        
        .form-select:focus {
            border-color: var(--color-primary);
            outline: none;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        
        .form-check {
            display: flex;
            align-items: center;
            margin-bottom: var(--spacing-sm);
        }
        
        .form-check-input {
            margin-right: var(--spacing-sm);
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .form-actions {
            display: flex;
            justify-content: space-between;
            margin-top: var(--spacing-xl);
        }
        
        .btn-primary, .btn-secondary {
            padding: var(--spacing-sm) var(--spacing-xl);
            border-radius: var(--radius-md);
            font-size: var(--font-size-base);
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            color: var(--color-text-primary);
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));
            opacity: 0;
            transition: opacity var(--transition-normal);
        }
        
        .btn-primary:hover::before {
            opacity: 1;
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid var(--color-primary);
            color: var(--color-primary);
        }
        
        .btn-secondary:hover {
            background: rgba(59, 130, 246, 0.1);
        }
        
        .btn-icon {
            width: 20px;
            height: 20px;
        }
        
        .result-section {
            margin-top: var(--spacing-2xl);
        }
        
        .result-actions {
            display: flex;
            gap: var(--spacing-md);
            margin-top: var(--spacing-lg);
        }
        
        .site-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) var(--spacing-lg);
            background: var(--color-bg-tertiary);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .logo {
            font-size: var(--font-size-xl);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            color: var(--color-text-primary);
            text-decoration: none;
        }
        
        .logo span {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        @media (max-width: 768px) {
            .tz-title {
                font-size: var(--font-size-3xl);
            }
            
            .tz-card {
                padding: var(--spacing-xl);
            }
            
            .form-actions {
                flex-direction: column;
                gap: var(--spacing-md);
            }
            
            .btn-primary, .btn-secondary {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .tz-title {
                font-size: var(--font-size-2xl);
            }
            
            .tz-subtitle {
                font-size: var(--font-size-base);
            }
        }

        /* –°—Ç–∏–ª–∏ –ø—Ä–µ–ª–æ–∞–¥–µ—Ä–∞ */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--color-bg-primary);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .preloader.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .preloader-content {
            text-align: center;
        }

        .preloader-logo {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .preloader-spinner svg {
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        .preloader-spinner circle {
            fill: none;
            stroke: var(--color-primary);
            stroke-width: 5;
            stroke-linecap: round;
            stroke-dasharray: 283;
            stroke-dashoffset: 75;
            transform-origin: 50% 50%;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- –ü—Ä–µ–ª–æ–∞–¥–µ—Ä -->
    <div class="preloader" id="preloader">
        <div class="preloader-content">
            <div class="preloader-logo">
                <span class="gradient-text">TP</span>
            </div>
            <div class="preloader-spinner">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="50" cy="50" r="45" />
                </svg>
            </div>
        </div>
    </div>

    <!-- –ö—É—Ä—Å–æ—Ä -->
    <div class="custom-cursor" id="customCursor"></div>
    <div class="custom-cursor-follower" id="customCursorFollower"></div>

    <!-- –õ–∏–Ω–∏–∏ —Ñ–æ–Ω–∞ -->
    <div class="background-lines">
        <div class="line line-1"></div>
        <div class="line line-2"></div>
        <div class="line line-3"></div>
    </div>

    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–∫—Ä–æ–ª–ª–∞ -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
    <div class="site-header">
        <a href="index.html" class="logo">
            <span>TP</span> TechPortal
        </a>
        <a href="index.html" class="btn btn-secondary">
            <span>–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç</span>
        </a>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <div class="tz-generator">
        <div class="tz-container">
            <div class="tz-header">
                <h1 class="tz-title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è</h1>
                <p class="tz-subtitle">–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –¢–ó –¥–ª—è –≤–∞—à–µ–≥–æ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞ –∑–∞ 5 –º–∏–Ω—É—Ç</p>
            </div>
            
            <!-- –û—Å—Ç–∞–ª—å–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div class="tz-card">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-status">
                    –®–∞–≥ <span id="currentStep">1</span> –∏–∑ <span id="totalSteps">6</span>
                </div>
            </div>
            
            <div class="tz-card">
                <div class="step active" id="step1">
                    <h2 class="step-title">1. –ö–∞–∫–æ–π —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ?</h2>
                    <div class="option-grid">
                        <div class="option-card" data-value="landing">
                            <div class="option-icon">üåê</div>
                            <div class="option-title">–õ–µ–Ω–¥–∏–Ω–≥</div>
                            <div class="option-desc">–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ —Ç–æ–≤–∞—Ä–∞/—É—Å–ª—É–≥–∏</div>
                        </div>
                        <div class="option-card" data-value="website">
                            <div class="option-icon">üì±</div>
                            <div class="option-title">–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç</div>
                            <div class="option-desc">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç, –±–ª–æ–≥, –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</div>
                        </div>
                        <div class="option-card" data-value="shop">
                            <div class="option-icon">üõí</div>
                            <div class="option-title">–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</div>
                            <div class="option-desc">E-commerce —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏ –∫–æ—Ä–∑–∏–Ω–æ–π</div>
                        </div>
                        <div class="option-card" data-value="app">
                            <div class="option-icon">‚öôÔ∏è</div>
                            <div class="option-title">–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
                            <div class="option-desc">CRM, —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</div>
                        </div>
                    </div>
                </div>
                
                <div class="step" id="step2">
                    <h2 class="step-title">2. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–µ–º –ø—Ä–æ–µ–∫—Ç–µ</h2>
                    <div class="form-group">
                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                        <input type="text" class="form-input" id="projectName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –æ–¥–µ–∂–¥—ã" required minlength="3">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                        <textarea class="form-textarea" id="projectDescription" placeholder="–û–ø–∏—à–∏—Ç–µ —á—Ç–æ –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —Å–∞–π—Ç, –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞—Ç—å, –∫—Ç–æ –≤–∞—à–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è..." required minlength="10"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <textarea class="form-textarea" id="competitors" placeholder="–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ —Å–∞–π—Ç—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏–ª–∏ –ø—Ä–∏–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–º –Ω—Ä–∞–≤—è—Ç—Å—è"></textarea>
                    </div>
                </div>
                
                <div class="step" id="step3">
                    <h2 class="step-title">3. –ö—Ç–æ –≤–∞—à–∞ —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è?</h2>
                    <div class="form-group">
                        <label class="form-label">–í–æ–∑—Ä–∞—Å—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏ *</label>
                        <select class="form-select" id="targetAge">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç–Ω—É—é –≥—Ä—É–ø–ø—É</option>
                            <option value="18-25">18-25 –ª–µ—Ç (—Å—Ç—É–¥–µ–Ω—Ç—ã, –º–æ–ª–æ–¥—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã)</option>
                            <option value="25-35">25-35 –ª–µ—Ç (–º–æ–ª–æ–¥—ã–µ —Å–µ–º—å–∏, –∫–∞—Ä—å–µ—Ä–∏—Å—Ç—ã)</option>
                            <option value="35-45">35-45 –ª–µ—Ç (—Å—Ä–µ–¥–Ω–µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞, —É—Å—Ç–æ—è–≤—à–∏–µ—Å—è)</option>
                            <option value="45+">45+ –ª–µ—Ç (–∑—Ä–µ–ª–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è)</option>
                            <option value="mixed">–°–º–µ—à–∞–Ω–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–£—Ä–æ–≤–µ–Ω—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏ *</label>
                        <select class="form-select" id="techLevel">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å</option>
                            <option value="low">–ù–∏–∑–∫–∏–π (–ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –º–∏–Ω–∏–º—É–º —Ñ—É–Ω–∫—Ü–∏–π)</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)</option>
                            <option value="high">–í—ã—Å–æ–∫–∏–π (—Å–ª–æ–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –º–Ω–æ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</label>
                        <textarea class="form-textarea" id="userNeeds" placeholder="–ß—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ö–æ—Ç—è—Ç –ø–æ–ª—É—á–∏—Ç—å –æ—Ç —Å–∞–π—Ç–∞? –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–∏—Ç—å?"></textarea>
                    </div>
                </div>
                
                <div class="step" id="step4">
                    <h2 class="step-title">4. –ö–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω—É–∂–µ–Ω?</h2>
                    <p style="margin-bottom: 1rem; color: #666;">–û—Ç–º–µ—Ç—å—Ç–µ –Ω—É–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</p>
                    <div class="checkbox-group" id="functionalityList">
                        <div class="checkbox-item">
                            <input type="checkbox" id="responsive" value="responsive">
                            <label for="responsive">–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ (–º–æ–±–∏–ª—å–Ω—ã–µ)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="seo" value="seo">
                            <label for="seo">SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="analytics" value="analytics">
                            <label for="analytics">–°—á–µ—Ç—á–∏–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="contact-form" value="contact-form">
                            <label for="contact-form">–§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</label>
                        </div>
                    </div>
                </div>
                
                <div class="step" id="step5">
                    <h2 class="step-title">5. –î–∏–∑–∞–π–Ω –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
                    <div class="form-group">
                        <label class="form-label">–°—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω–∞ *</label>
                        <select class="form-select" id="designStyle">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å</option>
                            <option value="modern">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π (–º–∏–Ω–∏–º–∞–ª–∏–∑–º, —á–∏—Å—Ç—ã–µ –ª–∏–Ω–∏–∏)</option>
                            <option value="corporate">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π (—Å—Ç—Ä–æ–≥–∏–π, –¥–µ–ª–æ–≤–æ–π)</option>
                            <option value="creative">–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π (—è—Ä–∫–∏–π, –Ω–µ–æ–±—ã—á–Ω—ã–π)</option>
                            <option value="classic">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π, –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–¶–≤–µ—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</label>
                        <input type="text" class="form-input" id="colorPrefs" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Å–∏–Ω–∏–π, –±–µ–ª—ã–π, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ï—Å—Ç—å –ª–∏ –ª–æ–≥–æ—Ç–∏–ø –∏ —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å?</label>
                        <select class="form-select" id="branding">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç</option>
                            <option value="yes">–î–∞, –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å</option>
                            <option value="partial">–ï—Å—Ç—å –ª–æ–≥–æ—Ç–∏–ø, –Ω–æ –Ω–µ—Ç —Ñ–∏—Ä–º–µ–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è</option>
                            <option value="no">–ù–µ—Ç, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è</option>
                        </select>
                    </div>
                </div>
                
                <div class="step" id="step6">
                    <h2 class="step-title">6. –ë—é–¥–∂–µ—Ç –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏</h2>
                    <div class="form-group">
                        <label class="form-label">–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π –±—é–¥–∂–µ—Ç *</label>
                        <select class="form-select" id="budget">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω</option>
                            <option value="small">50‚Ç¨ - 150‚Ç¨ (–ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–µ–∫—Ç)</option>
                            <option value="medium">150‚Ç¨ - 400‚Ç¨ (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–µ–∫—Ç)</option>
                            <option value="large">400‚Ç¨ - 800‚Ç¨ (—Å–ª–æ–∂–Ω—ã–π –ø—Ä–æ–µ–∫—Ç)</option>
                            <option value="enterprise">800‚Ç¨+ (–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–µ–∫—Ç? *</label>
                        <select class="form-select" id="deadline">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫</option>
                            <option value="urgent">–°—Ä–æ—á–Ω–æ (1-2 –Ω–µ–¥–µ–ª–∏)</option>
                            <option value="normal">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ (1-2 –º–µ—Å—è—Ü–∞)</option>
                            <option value="relaxed">–ë–µ–∑ —Å–ø–µ—à–∫–∏ (2-3 –º–µ—Å—è—Ü–∞)</option>
                            <option value="flexible">–ì–∏–±–∫–∏–µ —Å—Ä–æ–∫–∏</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</label>
                        <textarea class="form-textarea" id="additionalReqs" placeholder="–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏..."></textarea>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" id="prevBtn" onclick="previousStep()" style="display: none;">–ù–∞–∑–∞–¥</button>
                    <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">–î–∞–ª–µ–µ</button>
                </div>
            </div>
            
            <div class="result-section" id="resultSection">
                <div class="tz-card">
                    <h2 style="text-align: center; margin-bottom: 2rem;">‚úÖ –í–∞—à–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!</h2>
                    
                    <div class="tz-preview" id="tzPreview">
                        <!-- Generated TZ content will be here -->
                    </div>
                    
                    <div class="tz-export">
                        <div class="export-buttons">
                            <button class="btn btn-primary" onclick="downloadPDF()">üìÑ –°–∫–∞—á–∞—Ç—å PDF</button>
                            <button class="btn btn-secondary" onclick="copyToClipboard()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç</button>
                            <button class="btn btn-secondary" onclick="startOver()">üîÑ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –¢–ó</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let jsPDFLoaded = false;
        
        function loadJsPDF() {
            return new Promise((resolve, reject) => {
                if (jsPDFLoaded) {
                    resolve();
                    return;
                }
                
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';
                script.onload = () => {
                    jsPDFLoaded = true;
                    resolve();
                };
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }
        
        const PRICING_CONFIG = {
            projectTypes: {
                'landing': { min: 50, max: 150, name: '–õ–µ–Ω–¥–∏–Ω–≥' },
                'website': { min: 100, max: 300, name: '–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç' },
                'shop': { min: 200, max: 500, name: '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω' },
                'app': { min: 300, max: 800, name: '–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ' }
            },
            
            features: {
                'admin': { cost: 25, name: '–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å' },
                'auth': { cost: 20, name: '–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è' },
                'api': { cost: 25, name: 'API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è' },
                'seo': { cost: 25, name: 'SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è' },
                'responsive': { cost: 0, name: '–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞' },
                'analytics': { cost: 10, name: '–°–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏' },
                'contact-form': { cost: 5, name: '–§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏' }
            },
            
            budgetRanges: {
                'small': '50‚Ç¨ - 150‚Ç¨',
                'medium': '150‚Ç¨ - 400‚Ç¨', 
                'large': '400‚Ç¨ - 800‚Ç¨',
                'enterprise': '800‚Ç¨+'
            },
            
            calculateProjectCost: function(projectType, features = []) {
                let baseCost = this.projectTypes[projectType]?.min || 0;
                let additionalCost = features.reduce((sum, feature) => {
                    return sum + (this.features[feature]?.cost || 0);
                }, 0);
                return baseCost + additionalCost;
            },
            
            getBudgetRange: function(totalCost) {
                if (totalCost <= 150) return 'small';
                if (totalCost <= 400) return 'medium';
                if (totalCost <= 800) return 'large';
                return 'enterprise';
            }
        };

        if (typeof window.jspdf === 'undefined') {
            console.warn('jsPDF –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, PDF —ç–∫—Å–ø–æ—Ä—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
        }
    </script>
    <script>
        let currentStepIndex = 1;
        const totalSteps = 6;
        const formData = {};
        
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            updateFunctionalityBasedOnType();
            initializeFormEffects();
        });
        
        function initializeFormEffects() {
            const selects = document.querySelectorAll('.form-select');
            selects.forEach(select => {
                select.addEventListener('change', function() {
                    this.classList.add('loading');
                    setTimeout(() => {
                        this.classList.remove('loading');
                    }, 500);
                    
                    this.style.transform = 'scale(1.02)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
                
                select.addEventListener('focus', function() {
                    this.style.boxShadow = '0 0 30px rgba(102, 126, 234, 0.6)';
                });
                
                select.addEventListener('blur', function() {
                    this.style.boxShadow = '';
                });
            });
            
            const inputs = document.querySelectorAll('.form-input, .form-textarea');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('focused');
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.classList.remove('focused');
                });
                
                input.addEventListener('input', function() {
                    this.style.borderColor = 'var(--accent-primary)';
                    clearTimeout(this.timer);
                    this.timer = setTimeout(() => {
                        this.style.borderColor = '';
                        validateField(this);
                    }, 300);
                });
            });
        }
        
        function validateField(field) {
            field.classList.remove('valid', 'invalid');
            
            if (field.hasAttribute('required')) {
                if (field.value.trim() === '') {
                    field.classList.add('invalid');
                    return false;
                }
            }
            
            if (field.type === 'email') {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (field.value && !emailRegex.test(field.value)) {
                    field.classList.add('invalid');
                    return false;
                }
            }
            
            if (field.minLength && field.value.length > 0 && field.value.length < field.minLength) {
                field.classList.add('invalid');
                return false;
            }
            
            if (field.value.trim() !== '') {
                field.classList.add('valid');
            }
            
            return true;
        }
        
        function nextStep() {
            if (validateCurrentStep()) {
                if (currentStepIndex < totalSteps) {
                    document.getElementById(`step${currentStepIndex}`).classList.remove('active');
                    currentStepIndex++;
                    document.getElementById(`step${currentStepIndex}`).classList.add('active');
                    updateProgress();
                    updateNavigation();
                    
                    if (currentStepIndex === 4) {
                        updateFunctionalityBasedOnType();
                    }
                } else {
                    generateTZ();
                }
            }
        }
        
        function previousStep() {
            if (currentStepIndex > 1) {
                document.getElementById(`step${currentStepIndex}`).classList.remove('active');
                currentStepIndex--;
                document.getElementById(`step${currentStepIndex}`).classList.add('active');
                updateProgress();
                updateNavigation();
            }
        }
        
        function updateProgress() {
            const progress = (currentStepIndex / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('currentStep').textContent = currentStepIndex;
            document.getElementById('totalSteps').textContent = totalSteps;
        }
        
        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.style.display = currentStepIndex > 1 ? 'block' : 'none';
            nextBtn.textContent = currentStepIndex === totalSteps ? '–°–æ–∑–¥–∞—Ç—å –¢–ó' : '–î–∞–ª–µ–µ';
        }
        
        function validateCurrentStep() {
            switch(currentStepIndex) {
                case 1:
                    const projectType = document.querySelector('.option-card.selected');
                    if (!projectType) {
                        alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞');
                        return false;
                    }
                    formData.projectType = projectType.dataset.value;
                    break;
                    
                case 2:
                    const name = document.getElementById('projectName').value.trim();
                    const desc = document.getElementById('projectDescription').value.trim();
                    if (!name || !desc) {
                        alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞');
                        return false;
                    }
                    formData.projectName = name;
                    formData.projectDescription = desc;
                    formData.competitors = document.getElementById('competitors').value.trim();
                    break;
                    
                case 3:
                    const age = document.getElementById('targetAge').value;
                    const tech = document.getElementById('techLevel').value;
                    if (!age || !tech) {
                        alert('–£–∫–∞–∂–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏');
                        return false;
                    }
                    formData.targetAge = age;
                    formData.techLevel = tech;
                    formData.userNeeds = document.getElementById('userNeeds').value.trim();
                    break;
                    
                case 4:
                    const features = [];
                    document.querySelectorAll('#functionalityList input:checked').forEach(cb => {
                        features.push(cb.value);
                    });
                    formData.features = features;
                    break;
                    
                case 5:
                    const style = document.getElementById('designStyle').value;
                    if (!style) {
                        alert('–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω–∞');
                        return false;
                    }
                    formData.designStyle = style;
                    formData.colorPrefs = document.getElementById('colorPrefs').value.trim();
                    formData.branding = document.getElementById('branding').value;
                    break;
                    
                case 6:
                    const budget = document.getElementById('budget').value;
                    const deadline = document.getElementById('deadline').value;
                    if (!budget || !deadline) {
                        alert('–£–∫–∞–∂–∏—Ç–µ –±—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏');
                        return false;
                    }
                    formData.budget = budget;
                    formData.deadline = deadline;
                    formData.additionalReqs = document.getElementById('additionalReqs').value.trim();
                    break;
            }
            return true;
        }
        
        document.addEventListener('click', function(e) {
            if (e.target.closest('.option-card')) {
                const card = e.target.closest('.option-card');
                const container = card.parentElement;
                container.querySelectorAll('.option-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
            }
        });
        
        function updateFunctionalityBasedOnType() {
            const functionalityList = document.getElementById('functionalityList');
            const projectType = formData.projectType;
            
            const baseCheckboxes = functionalityList.innerHTML;
            
            let additionalFeatures = [];
            
            switch(projectType) {
                case 'landing':
                    additionalFeatures = [
                        {id: 'animations', value: 'animations', label: '–ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–∞—Ä–∞–ª–ª–∞–∫—Å'},
                        {id: 'popup', value: 'popup', label: '–í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞'},
                        {id: 'countdown', value: 'countdown', label: '–¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞'},
                        {id: 'testimonials', value: 'testimonials', label: '–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤'}
                    ];
                    break;
                case 'website':
                    additionalFeatures = [
                        {id: 'blog', value: 'blog', label: '–ë–ª–æ–≥/–Ω–æ–≤–æ—Å—Ç–∏'},
                        {id: 'gallery', value: 'gallery', label: '–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π'},
                        {id: 'multilang', value: 'multilang', label: '–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å'},
                        {id: 'search', value: 'search', label: '–ü–æ–∏—Å–∫ –ø–æ —Å–∞–π—Ç—É'}
                    ];
                    break;
                case 'shop':
                    additionalFeatures = [
                        {id: 'catalog', value: 'catalog', label: '–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤'},
                        {id: 'cart', value: 'cart', label: '–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫'},
                        {id: 'payment', value: 'payment', label: '–°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã'},
                        {id: 'orders', value: 'orders', label: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏'},
                        {id: 'inventory', value: 'inventory', label: '–£—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤'}
                    ];
                    break;
                case 'app':
                    additionalFeatures = [
                        {id: 'auth', value: 'auth', label: '–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π'},
                        {id: 'admin', value: 'admin', label: '–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å'},
                        {id: 'dashboard', value: 'dashboard', label: '–î–∞—à–±–æ—Ä–¥ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏'},
                        {id: 'api', value: 'api', label: 'API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π'},
                        {id: 'notifications', value: 'notifications', label: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è'}
                    ];
                    break;
            }
            
            functionalityList.innerHTML = baseCheckboxes + additionalFeatures.map(feature => `
                <div class="checkbox-item">
                    <input type="checkbox" id="${feature.id}" value="${feature.value}">
                    <label for="${feature.id}">${feature.label}</label>
                </div>
            `).join('');
        }
        
        function generateTZ() {
            const tzHtml = generateTZContent();
            document.getElementById('tzPreview').innerHTML = tzHtml;
            
            document.querySelector('.tz-card').style.display = 'none';
            document.getElementById('resultSection').classList.add('active');
        }
        
        function generateTZContent() {
            const projectTypes = {
                'landing': '–õ–µ–Ω–¥–∏–Ω–≥-—Å—Ç—Ä–∞–Ω–∏—Ü–∞',
                'website': '–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç',
                'shop': '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω',
                'app': '–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ'
            };
            
            const designStyles = {
                'modern': '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º',
                'corporate': '–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å',
                'creative': '–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω',
                'classic': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å'
            };
            
            const budgetRanges = PRICING_CONFIG.budgetRanges;
            
            return `
                <h1 style="color: var(--text-primary); border-bottom: 2px solid var(--accent-primary); padding-bottom: 1rem;">
                    –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: ${formData.projectName}
                </h1>
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">1. –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                <p><strong>–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞:</strong> ${projectTypes[formData.projectType]}</p>
                <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${formData.projectDescription}</p>
                ${formData.competitors ? `<p><strong>–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã/–ø—Ä–∏–º–µ—Ä—ã:</strong> ${formData.competitors}</p>` : ''}
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">2. –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</h2>
                <p><strong>–í–æ–∑—Ä–∞—Å—Ç:</strong> ${formData.targetAge}</p>
                <p><strong>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å:</strong> ${formData.techLevel}</p>
                ${formData.userNeeds ? `<p><strong>–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</strong> ${formData.userNeeds}</p>` : ''}
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
                <ul>
                    ${formData.features.map(feature => `<li>${getFeatureName(feature)}</li>`).join('')}
                </ul>
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">4. –î–∏–∑–∞–π–Ω-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
                <p><strong>–°—Ç–∏–ª—å:</strong> ${designStyles[formData.designStyle]}</p>
                ${formData.colorPrefs ? `<p><strong>–¶–≤–µ—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è:</strong> ${formData.colorPrefs}</p>` : ''}
                ${formData.branding ? `<p><strong>–§–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å:</strong> ${getBrandingText(formData.branding)}</p>` : ''}
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">5. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
                <ul>
                    <li>–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</li>
                    <li>–ö—Ä–æ—Å—Å–±—Ä–∞—É–∑–µ—Ä–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</li>
                    <li>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏</li>
                    <li>SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</li>
                    <li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö</li>
                </ul>
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">6. –ë—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏</h2>
                <p><strong>–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π –±—é–¥–∂–µ—Ç:</strong> ${budgetRanges[formData.budget]}</p>
                <p><strong>–†–∞—Å—á–µ—Ç–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${PRICING_CONFIG.calculateProjectCost(formData.projectType, formData.features)}‚Ç¨ (–±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π)</p>
                <div style="margin: 1rem 0; padding: 1rem; background: rgba(102, 126, 234, 0.1); border-radius: 8px; font-size: 0.9rem;">
                    <strong>–†–∞—Å—á–µ—Ç:</strong> –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å ${PRICING_CONFIG.projectTypes[formData.projectType]?.name}: ${PRICING_CONFIG.projectTypes[formData.projectType]?.min}‚Ç¨${formData.features.length > 0 ? ' + –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: ' + formData.features.map(f => PRICING_CONFIG.features[f]?.cost || 0).filter(c => c > 0).join('‚Ç¨ + ') + '‚Ç¨' : ''}
                </div>
                <p><strong>–°—Ä–æ–∫–∏:</strong> ${getDeadlineText(formData.deadline)}</p>
                ${formData.additionalReqs ? `<p><strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:</strong> ${formData.additionalReqs}</p>` : ''}
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">7. –†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
                <p>–ü–æ –∏—Ç–æ–≥–∞–º —Ä–∞–±–æ—Ç—ã –∑–∞–∫–∞–∑—á–∏–∫ –ø–æ–ª—É—á–∏—Ç:</p>
                <ul>
                    <li>–ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–π –∫ —Ä–∞–±–æ—Ç–µ ${projectTypes[formData.projectType].toLowerCase()}</li>
                    <li>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞</li>
                    <li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é</li>
                    <li>–¢–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞</li>
                </ul>
                
                <div style="margin-top: 2rem; padding: 1rem; background: rgba(102, 126, 234, 0.1); border-radius: 8px; border-left: 4px solid var(--accent-primary);">
                    <p style="margin: 0;"><strong>–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:</strong> ${new Date().toLocaleDateString('ru-RU')}</p>
                    <p style="margin: 0;"><strong>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¢–ó:</strong> TechPortal</p>
                </div>
            `;
        }
        
        function getFeatureName(feature) {
            const extendedNames = {
                'animations': '–ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç—ã',
                'popup': '–í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞',
                'countdown': '–¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞',
                'testimonials': '–°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤',
                'blog': '–ë–ª–æ–≥/—Å–∏—Å—Ç–µ–º–∞ –Ω–æ–≤–æ—Å—Ç–µ–π',
                'gallery': '–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π',
                'multilang': '–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞',
                'search': '–ü–æ–∏—Å–∫ –ø–æ —Å–∞–π—Ç—É',
                'catalog': '–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤',
                'cart': '–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫',
                'payment': '–°–∏—Å—Ç–µ–º–∞ –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç—ã',
                'orders': '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏',
                'inventory': '–°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤',
                'dashboard': '–î–∞—à–±–æ—Ä–¥ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π',
                'notifications': '–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π'
            };
            
            return PRICING_CONFIG.features[feature]?.name || extendedNames[feature] || feature;
        }
        
        function getBrandingText(branding) {
            const texts = {
                'yes': '–ï—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å',
                'partial': '–ï—Å—Ç—å –ª–æ–≥–æ—Ç–∏–ø, –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å',
                'no': '–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è'
            };
            return texts[branding] || branding;
        }
        
        function getDeadlineText(deadline) {
            const texts = {
                'urgent': '–°—Ä–æ—á–Ω–æ (1-2 –Ω–µ–¥–µ–ª–∏)',
                'normal': '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ä–æ–∫–∏ (1-2 –º–µ—Å—è—Ü–∞)',
                'relaxed': '–ë–µ–∑ —Å–ø–µ—à–∫–∏ (2-3 –º–µ—Å—è—Ü–∞)',
                'flexible': '–ì–∏–±–∫–∏–µ —Å—Ä–æ–∫–∏'
            };
            return texts[deadline] || deadline;
        }
        
        async function downloadPDF() {
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '‚è≥ –ó–∞–≥—Ä—É–∂–∞–µ–º PDF...';
            btn.disabled = true;
            
            try {
                await loadJsPDF();
                
                if (typeof window.jspdf === 'undefined') {
                    throw new Error('jsPDF –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
                }
            } catch (error) {
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ PDF –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç.');
                btn.textContent = originalText;
                btn.disabled = false;
                return;
            }
            
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            doc.setFont('helvetica');
            
            let yPosition = 20;
            const lineHeight = 7;
            const pageHeight = 280;
            
            doc.setFontSize(16);
            doc.text(`–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: ${formData.projectName}`, 20, yPosition);
            yPosition += lineHeight * 2;
            
            const content = [
                {
                    title: '1. –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
                    items: [
                        `–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞: ${getProjectTypeName(formData.projectType)}`,
                        `–û–ø–∏—Å–∞–Ω–∏–µ: ${formData.projectDescription}`,
                        formData.competitors ? `–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã: ${formData.competitors}` : null
                    ]
                },
                {
                    title: '2. –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è',
                    items: [
                        `–í–æ–∑—Ä–∞—Å—Ç: ${formData.targetAge}`,
                        `–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å: ${formData.techLevel}`,
                        formData.userNeeds ? `–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏: ${formData.userNeeds}` : null
                    ]
                },
                {
                    title: '3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å',
                    items: formData.features.map(f => getFeatureName(f))
                },
                {
                    title: '4. –î–∏–∑–∞–π–Ω',
                    items: [
                        `–°—Ç–∏–ª—å: ${getDesignStyleName(formData.designStyle)}`,
                        formData.colorPrefs ? `–¶–≤–µ—Ç–∞: ${formData.colorPrefs}` : null,
                        formData.branding ? `–§–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å: ${getBrandingText(formData.branding)}` : null
                    ]
                },
                {
                    title: '5. –ë—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏',
                    items: [
                        `–ë—é–¥–∂–µ—Ç: ${getBudgetText(formData.budget)}`,
                        `–°—Ä–æ–∫–∏: ${getDeadlineText(formData.deadline)}`,
                        formData.additionalReqs ? `–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: ${formData.additionalReqs}` : null
                    ]
                }
            ];
            
            doc.setFontSize(12);
            
            content.forEach(section => {
                if (yPosition > pageHeight - 40) {
                    doc.addPage();
                    yPosition = 20;
                }
                
                doc.setFont('helvetica', 'bold');
                doc.text(section.title, 20, yPosition);
                yPosition += lineHeight;
                
                doc.setFont('helvetica', 'normal');
                section.items.forEach(item => {
                    if (item) {
                        const splitText = doc.splitTextToSize(item, 170);
                        splitText.forEach(line => {
                            if (yPosition > pageHeight - 20) {
                                doc.addPage();
                                yPosition = 20;
                            }
                            doc.text(line, 25, yPosition);
                            yPosition += lineHeight;
                        });
                    }
                });
                yPosition += lineHeight;
            });
            
            // Save PDF
            doc.save(`TZ_${formData.projectName.replace(/[^a-z–∞-—è0-9]/gi, '_')}.pdf`);
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
            btn.textContent = originalText;
            btn.disabled = false;
        }
        
        function copyToClipboard() {
            const tzText = document.getElementById('tzPreview').innerText;
            navigator.clipboard.writeText(tzText).then(() => {
                alert('–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(() => {
                alert('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç –≤—Ä—É—á–Ω—É—é.');
            });
        }
        
        function startOver() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –¢–ó? –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω.')) {
                location.reload();
            }
        }
        
        // Helper functions for PDF
        function getProjectTypeName(type) {
            return PRICING_CONFIG.projectTypes[type]?.name || type;
        }
        
        function getDesignStyleName(style) {
            const styles = {
                'modern': '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º',
                'corporate': '–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å',
                'creative': '–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω',
                'classic': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å'
            };
            return styles[style] || style;
        }
        
        function getBudgetText(budget) {
            return PRICING_CONFIG.budgetRanges[budget] || budget;
        }
    </script>

    <script>
        // –°–∫—Ä—ã—Ç–∏–µ –ø—Ä–µ–ª–æ–∞–¥–µ—Ä–∞
        window.addEventListener('load', function() {
            const preloader = document.getElementById('preloader');
            if (preloader) {
                preloader.classList.add('hidden');
                setTimeout(() => {
                    preloader.style.display = 'none';
                }, 500);
            }
        });

        // –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç, –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ load –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
        setTimeout(() => {
            const preloader = document.getElementById('preloader');
            if (preloader && !preloader.classList.contains('hidden')) {
                preloader.classList.add('hidden');
                setTimeout(() => {
                    preloader.style.display = 'none';
                }, 500);
            }
        }, 5000);
    </script>
</body>
</html> 