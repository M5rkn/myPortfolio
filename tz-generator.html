<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¢–ó - TechPortal</title>
    <meta name="description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–æ–≤">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    
    <style>
        /* Import same variables as main site */
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --accent-primary: #667eea;
            --accent-secondary: #764ba2;
            --border-color: #333333;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }
        
        .tz-generator {
            min-height: 100vh;
            background: var(--bg-primary);
            padding: 2rem 0;
            position: relative;
        }
        
        .tz-generator::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(118, 75, 162, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(102, 126, 234, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        .tz-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 1rem;
            position: relative;
            z-index: 1;
        }
        
        .tz-header {
            text-align: center;
            margin-bottom: 3rem;
            color: var(--text-primary);
        }
        
        .tz-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .tz-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            opacity: 0.9;
        }
        
        .tz-card {
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }
        
        .step {
            display: none;
        }
        
        .step.active {
            display: block;
            animation: fadeInUp 0.5s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .step-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .form-input, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-sizing: border-box;
            background: rgba(26, 26, 26, 0.8);
            color: var(--text-primary);
        }
        
        .form-select {
            width: 100%;
            padding: 0.75rem 2.5rem 0.75rem 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-sizing: border-box;
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9) 0%, rgba(42, 42, 42, 0.9) 100%);
            color: var(--text-primary);
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: 
                linear-gradient(45deg, transparent 50%, var(--accent-primary) 50%),
                linear-gradient(135deg, var(--accent-primary) 50%, transparent 50%),
                linear-gradient(135deg, rgba(26, 26, 26, 0.9) 0%, rgba(42, 42, 42, 0.9) 100%);
            background-position: 
                calc(100% - 20px) calc(1em + 2px),
                calc(100% - 15px) calc(1em + 2px),
                100% 0;
            background-size: 
                5px 5px,
                5px 5px,
                100% 100%;
            background-repeat: no-repeat;
            position: relative;
        }
        
        .form-select:hover {
            border-color: var(--accent-primary);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }
        
        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
            background: rgba(26, 26, 26, 1);
        }
        
        .form-select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.4);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%);
            background-image: 
                linear-gradient(45deg, transparent 50%, #ffffff 50%),
                linear-gradient(135deg, #ffffff 50%, transparent 50%),
                linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%);
            background-position: 
                calc(100% - 20px) calc(1em + 2px),
                calc(100% - 15px) calc(1em + 2px),
                100% 0;
            background-size: 
                5px 5px,
                5px 5px,
                100% 100%;
            background-repeat: no-repeat;
        }
        
        /* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ü–∏–π select */
        .form-select option {
            background: rgba(26, 26, 26, 0.95);
            color: var(--text-primary);
            padding: 0.5rem;
            border: none;
        }
        
        .form-select option:hover,
        .form-select option:checked {
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            color: white;
        }
        
        .form-input::placeholder, .form-textarea::placeholder {
            color: var(--text-secondary);
            opacity: 0.7;
        }
        
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .option-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 0.5rem;
        }
        
        .option-card {
            padding: 1rem;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            background: rgba(26, 26, 26, 0.5);
            color: var(--text-primary);
        }
        
        .option-card:hover {
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
            background: rgba(26, 26, 26, 0.8);
        }
        
        .option-card.selected {
            border-color: var(--accent-primary);
            background: rgba(102, 126, 234, 0.15);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }
        
        .option-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .option-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .option-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 0.5rem;
            border-radius: 8px;
            transition: background 0.3s ease;
        }
        
        .checkbox-item:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .checkbox-item input {
            margin-right: 0.5rem;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            color: white;
            border: none;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: rgba(26, 26, 26, 0.8);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }
        
        .btn-secondary:hover {
            background: rgba(26, 26, 26, 1);
            border-color: var(--accent-primary);
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .result-section {
            display: none;
        }
        
        .result-section.active {
            display: block;
            animation: fadeInUp 0.5s ease;
        }
        
        .tz-preview {
            background: rgba(26, 26, 26, 0.8);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }
        
        .tz-export {
            text-align: center;
            margin-top: 2rem;
        }
        
        .export-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è select */
        .form-group {
            position: relative;
        }
        
        .form-group::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            transform: scaleX(0);
            transition: transform 0.3s ease;
            border-radius: 1px;
        }
        
        .form-group:focus-within::after {
            transform: scaleX(1);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è select –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ */
        .form-select.loading {
            position: relative;
            pointer-events: none;
        }
        
        .form-select.loading::before {
            content: '';
            position: absolute;
            top: 50%;
            right: 15px;
            width: 16px;
            height: 16px;
            border: 2px solid var(--accent-primary);
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            transform: translateY(-50%);
        }
        
        @keyframes spin {
            0% { transform: translateY(-50%) rotate(0deg); }
            100% { transform: translateY(-50%) rotate(360deg); }
        }
        
        /* –ü—É–ª—å—Å–∏—Ä—É—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ */
        .form-group.focused {
            position: relative;
        }
        
        .form-group.focused::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 12px;
            opacity: 0.3;
            animation: pulse 2s infinite;
            z-index: -1;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 0.3;
            }
            50% {
                transform: scale(1.02);
                opacity: 0.1;
            }
            100% {
                transform: scale(1);
                opacity: 0.3;
            }
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è select –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ */
        .form-select:active {
            transform: scale(0.98);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
        }
        
        /* –ì–ª–∞–¥–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ */
        .form-select, .form-input, .form-textarea {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ */
        .form-input.valid, .form-textarea.valid, .form-select.valid {
            border-color: #4ade80;
            box-shadow: 0 0 15px rgba(74, 222, 128, 0.3);
        }
        
        .form-input.invalid, .form-textarea.invalid, .form-select.invalid {
            border-color: #ef4444;
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.3);
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @media (max-width: 768px) {
            .tz-title {
                font-size: 2rem;
            }
            
            .tz-card {
                padding: 1.5rem;
            }
            
            .option-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation {
                flex-direction: column;
                gap: 1rem;
            }
            
            .export-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .form-select {
                padding: 1rem 2.5rem 1rem 1rem;
                font-size: 1.1rem;
            }
        }
        
        /* Additional dark theme styles */
        .progress-status {
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* Custom scrollbar for dark theme */
        .tz-preview::-webkit-scrollbar {
            width: 8px;
        }
        
        .tz-preview::-webkit-scrollbar-track {
            background: rgba(51, 51, 51, 0.3);
            border-radius: 4px;
        }
        
        .tz-preview::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 4px;
        }
        
        .tz-preview::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--accent-secondary), var(--accent-primary));
        }
        
        /* Checkbox custom styling */
        .checkbox-item input[type="checkbox"] {
            accent-color: var(--accent-primary);
        }
        
        /* Back button in header */
        .back-btn {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: rgba(26, 26, 26, 0.8);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .back-btn:hover {
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }
    </style>
</head>
<body>
    <div class="tz-generator">
        <div class="tz-container">
            <!-- Header -->
            <div class="tz-header">
                <a href="index.html" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
                <h1 class="tz-title">üöÄ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¢–ó</h1>
                <p class="tz-subtitle">–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∑–∞ 5 –º–∏–Ω—É—Ç</p>
            </div>
            
            <!-- Progress Bar -->
            <div class="tz-card">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-status">
                    –®–∞–≥ <span id="currentStep">1</span> –∏–∑ <span id="totalSteps">6</span>
                </div>
            </div>
            
            <!-- Form Steps -->
            <div class="tz-card">
                <!-- –®–∞–≥ 1: –¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞ -->
                <div class="step active" id="step1">
                    <h2 class="step-title">1. –ö–∞–∫–æ–π —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ?</h2>
                    <div class="option-grid">
                        <div class="option-card" data-value="landing">
                            <div class="option-icon">üåê</div>
                            <div class="option-title">–õ–µ–Ω–¥–∏–Ω–≥</div>
                            <div class="option-desc">–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ —Ç–æ–≤–∞—Ä–∞/—É—Å–ª—É–≥–∏</div>
                        </div>
                        <div class="option-card" data-value="website">
                            <div class="option-icon">üì±</div>
                            <div class="option-title">–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç</div>
                            <div class="option-desc">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç, –±–ª–æ–≥, –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</div>
                        </div>
                        <div class="option-card" data-value="shop">
                            <div class="option-icon">üõí</div>
                            <div class="option-title">–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</div>
                            <div class="option-desc">E-commerce —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏ –∫–æ—Ä–∑–∏–Ω–æ–π</div>
                        </div>
                        <div class="option-card" data-value="app">
                            <div class="option-icon">‚öôÔ∏è</div>
                            <div class="option-title">–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
                            <div class="option-desc">CRM, —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</div>
                        </div>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 2: –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ -->
                <div class="step" id="step2">
                    <h2 class="step-title">2. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–µ–º –ø—Ä–æ–µ–∫—Ç–µ</h2>
                    <div class="form-group">
                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                        <input type="text" class="form-input" id="projectName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –æ–¥–µ–∂–¥—ã" required minlength="3">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                        <textarea class="form-textarea" id="projectDescription" placeholder="–û–ø–∏—à–∏—Ç–µ —á—Ç–æ –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —Å–∞–π—Ç, –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞—Ç—å, –∫—Ç–æ –≤–∞—à–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è..." required minlength="10"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <textarea class="form-textarea" id="competitors" placeholder="–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ —Å–∞–π—Ç—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏–ª–∏ –ø—Ä–∏–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–º –Ω—Ä–∞–≤—è—Ç—Å—è"></textarea>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 3: –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è -->
                <div class="step" id="step3">
                    <h2 class="step-title">3. –ö—Ç–æ –≤–∞—à–∞ —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è?</h2>
                    <div class="form-group">
                        <label class="form-label">–í–æ–∑—Ä–∞—Å—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏ *</label>
                        <select class="form-select" id="targetAge">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç–Ω—É—é –≥—Ä—É–ø–ø—É</option>
                            <option value="18-25">18-25 –ª–µ—Ç (—Å—Ç—É–¥–µ–Ω—Ç—ã, –º–æ–ª–æ–¥—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã)</option>
                            <option value="25-35">25-35 –ª–µ—Ç (–º–æ–ª–æ–¥—ã–µ —Å–µ–º—å–∏, –∫–∞—Ä—å–µ—Ä–∏—Å—Ç—ã)</option>
                            <option value="35-45">35-45 –ª–µ—Ç (—Å—Ä–µ–¥–Ω–µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞, —É—Å—Ç–æ—è–≤—à–∏–µ—Å—è)</option>
                            <option value="45+">45+ –ª–µ—Ç (–∑—Ä–µ–ª–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è)</option>
                            <option value="mixed">–°–º–µ—à–∞–Ω–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–£—Ä–æ–≤–µ–Ω—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏ *</label>
                        <select class="form-select" id="techLevel">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å</option>
                            <option value="low">–ù–∏–∑–∫–∏–π (–ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –º–∏–Ω–∏–º—É–º —Ñ—É–Ω–∫—Ü–∏–π)</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)</option>
                            <option value="high">–í—ã—Å–æ–∫–∏–π (—Å–ª–æ–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –º–Ω–æ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</label>
                        <textarea class="form-textarea" id="userNeeds" placeholder="–ß—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ö–æ—Ç—è—Ç –ø–æ–ª—É—á–∏—Ç—å –æ—Ç —Å–∞–π—Ç–∞? –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–∏—Ç—å?"></textarea>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 4: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å -->
                <div class="step" id="step4">
                    <h2 class="step-title">4. –ö–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω—É–∂–µ–Ω?</h2>
                    <p style="margin-bottom: 1rem; color: #666;">–û—Ç–º–µ—Ç—å—Ç–µ –Ω—É–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</p>
                    <div class="checkbox-group" id="functionalityList">
                        <!-- –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
                        <div class="checkbox-item">
                            <input type="checkbox" id="responsive" value="responsive">
                            <label for="responsive">–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ (–º–æ–±–∏–ª—å–Ω—ã–µ)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="seo" value="seo">
                            <label for="seo">SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="analytics" value="analytics">
                            <label for="analytics">–°—á–µ—Ç—á–∏–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="contact-form" value="contact-form">
                            <label for="contact-form">–§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</label>
                        </div>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 5: –î–∏–∑–∞–π–Ω –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è -->
                <div class="step" id="step5">
                    <h2 class="step-title">5. –î–∏–∑–∞–π–Ω –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
                    <div class="form-group">
                        <label class="form-label">–°—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω–∞ *</label>
                        <select class="form-select" id="designStyle">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å</option>
                            <option value="modern">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π (–º–∏–Ω–∏–º–∞–ª–∏–∑–º, —á–∏—Å—Ç—ã–µ –ª–∏–Ω–∏–∏)</option>
                            <option value="corporate">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π (—Å—Ç—Ä–æ–≥–∏–π, –¥–µ–ª–æ–≤–æ–π)</option>
                            <option value="creative">–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π (—è—Ä–∫–∏–π, –Ω–µ–æ–±—ã—á–Ω—ã–π)</option>
                            <option value="classic">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π, –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–¶–≤–µ—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</label>
                        <input type="text" class="form-input" id="colorPrefs" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Å–∏–Ω–∏–π, –±–µ–ª—ã–π, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ï—Å—Ç—å –ª–∏ –ª–æ–≥–æ—Ç–∏–ø –∏ —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å?</label>
                        <select class="form-select" id="branding">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç</option>
                            <option value="yes">–î–∞, –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å</option>
                            <option value="partial">–ï—Å—Ç—å –ª–æ–≥–æ—Ç–∏–ø, –Ω–æ –Ω–µ—Ç —Ñ–∏—Ä–º–µ–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è</option>
                            <option value="no">–ù–µ—Ç, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è</option>
                        </select>
                    </div>
                </div>
                
                <!-- –®–∞–≥ 6: –ë—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏ -->
                <div class="step" id="step6">
                    <h2 class="step-title">6. –ë—é–¥–∂–µ—Ç –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏</h2>
                    <div class="form-group">
                        <label class="form-label">–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π –±—é–¥–∂–µ—Ç *</label>
                        <select class="form-select" id="budget">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω</option>
                            <option value="small">50‚Ç¨ - 150‚Ç¨ (–ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–µ–∫—Ç)</option>
                            <option value="medium">150‚Ç¨ - 400‚Ç¨ (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–µ–∫—Ç)</option>
                            <option value="large">400‚Ç¨ - 800‚Ç¨ (—Å–ª–æ–∂–Ω—ã–π –ø—Ä–æ–µ–∫—Ç)</option>
                            <option value="enterprise">800‚Ç¨+ (–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–µ–∫—Ç? *</label>
                        <select class="form-select" id="deadline">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫</option>
                            <option value="urgent">–°—Ä–æ—á–Ω–æ (1-2 –Ω–µ–¥–µ–ª–∏)</option>
                            <option value="normal">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ (1-2 –º–µ—Å—è—Ü–∞)</option>
                            <option value="relaxed">–ë–µ–∑ —Å–ø–µ—à–∫–∏ (2-3 –º–µ—Å—è—Ü–∞)</option>
                            <option value="flexible">–ì–∏–±–∫–∏–µ —Å—Ä–æ–∫–∏</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</label>
                        <textarea class="form-textarea" id="additionalReqs" placeholder="–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏..."></textarea>
                    </div>
                </div>
                
                <!-- Navigation -->
                <div class="navigation">
                    <button class="btn btn-secondary" id="prevBtn" onclick="previousStep()" style="display: none;">–ù–∞–∑–∞–¥</button>
                    <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">–î–∞–ª–µ–µ</button>
                </div>
            </div>
            
            <!-- Result Section -->
            <div class="result-section" id="resultSection">
                <div class="tz-card">
                    <h2 style="text-align: center; margin-bottom: 2rem;">‚úÖ –í–∞—à–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!</h2>
                    
                    <div class="tz-preview" id="tzPreview">
                        <!-- Generated TZ content will be here -->
                    </div>
                    
                    <div class="tz-export">
                        <div class="export-buttons">
                            <button class="btn btn-primary" onclick="downloadPDF()">üìÑ –°–∫–∞—á–∞—Ç—å PDF</button>
                            <button class="btn btn-secondary" onclick="copyToClipboard()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç</button>
                            <button class="btn btn-secondary" onclick="startOver()">üîÑ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –¢–ó</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Lazy loading –¥–ª—è jsPDF
        let jsPDFLoaded = false;
        
        function loadJsPDF() {
            return new Promise((resolve, reject) => {
                if (jsPDFLoaded) {
                    resolve();
                    return;
                }
                
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';
                script.onload = () => {
                    jsPDFLoaded = true;
                    resolve();
                };
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }
        
        // –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
        const PRICING_CONFIG = {
            // –ë–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤
            projectTypes: {
                'landing': { min: 50, max: 150, name: '–õ–µ–Ω–¥–∏–Ω–≥' },
                'website': { min: 100, max: 300, name: '–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç' },
                'shop': { min: 200, max: 500, name: '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω' },
                'app': { min: 300, max: 800, name: '–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ' }
            },
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏
            features: {
                'admin': { cost: 25, name: '–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å' },
                'auth': { cost: 20, name: '–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è' },
                'api': { cost: 25, name: 'API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è' },
                'seo': { cost: 25, name: 'SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è' },
                'responsive': { cost: 0, name: '–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞' },
                'analytics': { cost: 10, name: '–°–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏' },
                'contact-form': { cost: 5, name: '–§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏' }
            },
            
            // –î–∏–∞–ø–∞–∑–æ–Ω—ã –±—é–¥–∂–µ—Ç–∞
            budgetRanges: {
                'small': '50‚Ç¨ - 150‚Ç¨',
                'medium': '150‚Ç¨ - 400‚Ç¨', 
                'large': '400‚Ç¨ - 800‚Ç¨',
                'enterprise': '800‚Ç¨+'
            },
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
            calculateProjectCost: function(projectType, features = []) {
                let baseCost = this.projectTypes[projectType]?.min || 0;
                let additionalCost = features.reduce((sum, feature) => {
                    return sum + (this.features[feature]?.cost || 0);
                }, 0);
                return baseCost + additionalCost;
            },
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –±—é–¥–∂–µ—Ç–∞
            getBudgetRange: function(totalCost) {
                if (totalCost <= 150) return 'small';
                if (totalCost <= 400) return 'medium';
                if (totalCost <= 800) return 'large';
                return 'enterprise';
            }
        };

        // Fallback if jsPDF doesn't load
        if (typeof window.jspdf === 'undefined') {
            console.warn('jsPDF –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, PDF —ç–∫—Å–ø–æ—Ä—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
        }
    </script>
    <script>
        // State management
        let currentStepIndex = 1;
        const totalSteps = 6;
        const formData = {};
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            updateFunctionalityBasedOnType();
            initializeFormEffects();
        });
        
        // –£–ª—É—á—à–µ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è —Ñ–æ—Ä–º
        function initializeFormEffects() {
            // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è select —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            const selects = document.querySelectorAll('.form-select');
            selects.forEach(select => {
                select.addEventListener('change', function() {
                    // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –∑–∞–≥—Ä—É–∑–∫–∏
                    this.classList.add('loading');
                    setTimeout(() => {
                        this.classList.remove('loading');
                    }, 500);
                    
                    // –≠—Ñ—Ñ–µ–∫—Ç "–ø—É–ª—å—Å–∞—Ü–∏–∏" –ø—Ä–∏ –≤—ã–±–æ—Ä–µ
                    this.style.transform = 'scale(1.02)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
                
                // –ó–≤—É–∫–æ–≤–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–≤–∏–∑—É–∞–ª—å–Ω–∞—è)
                select.addEventListener('focus', function() {
                    this.style.boxShadow = '0 0 30px rgba(102, 126, 234, 0.6)';
                });
                
                select.addEventListener('blur', function() {
                    this.style.boxShadow = '';
                });
            });
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è inputs –∏ textarea
            const inputs = document.querySelectorAll('.form-input, .form-textarea');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('focused');
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.classList.remove('focused');
                });
                
                // –≠—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
                input.addEventListener('input', function() {
                    this.style.borderColor = 'var(--accent-primary)';
                    clearTimeout(this.timer);
                    this.timer = setTimeout(() => {
                        this.style.borderColor = '';
                        validateField(this);
                    }, 300);
                });
            });
        }
        
        // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
        function validateField(field) {
            field.classList.remove('valid', 'invalid');
            
            if (field.hasAttribute('required')) {
                if (field.value.trim() === '') {
                    field.classList.add('invalid');
                    return false;
                }
            }
            
            // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
            if (field.type === 'email') {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (field.value && !emailRegex.test(field.value)) {
                    field.classList.add('invalid');
                    return false;
                }
            }
            
            if (field.minLength && field.value.length > 0 && field.value.length < field.minLength) {
                field.classList.add('invalid');
                return false;
            }
            
            if (field.value.trim() !== '') {
                field.classList.add('valid');
            }
            
            return true;
        }
        
        // Step navigation
        function nextStep() {
            if (validateCurrentStep()) {
                if (currentStepIndex < totalSteps) {
                    document.getElementById(`step${currentStepIndex}`).classList.remove('active');
                    currentStepIndex++;
                    document.getElementById(`step${currentStepIndex}`).classList.add('active');
                    updateProgress();
                    updateNavigation();
                    
                    if (currentStepIndex === 4) {
                        updateFunctionalityBasedOnType();
                    }
                } else {
                    generateTZ();
                }
            }
        }
        
        function previousStep() {
            if (currentStepIndex > 1) {
                document.getElementById(`step${currentStepIndex}`).classList.remove('active');
                currentStepIndex--;
                document.getElementById(`step${currentStepIndex}`).classList.add('active');
                updateProgress();
                updateNavigation();
            }
        }
        
        function updateProgress() {
            const progress = (currentStepIndex / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('currentStep').textContent = currentStepIndex;
            document.getElementById('totalSteps').textContent = totalSteps;
        }
        
        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.style.display = currentStepIndex > 1 ? 'block' : 'none';
            nextBtn.textContent = currentStepIndex === totalSteps ? '–°–æ–∑–¥–∞—Ç—å –¢–ó' : '–î–∞–ª–µ–µ';
        }
        
        // Validation
        function validateCurrentStep() {
            switch(currentStepIndex) {
                case 1:
                    const projectType = document.querySelector('.option-card.selected');
                    if (!projectType) {
                        alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞');
                        return false;
                    }
                    formData.projectType = projectType.dataset.value;
                    break;
                    
                case 2:
                    const name = document.getElementById('projectName').value.trim();
                    const desc = document.getElementById('projectDescription').value.trim();
                    if (!name || !desc) {
                        alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞');
                        return false;
                    }
                    formData.projectName = name;
                    formData.projectDescription = desc;
                    formData.competitors = document.getElementById('competitors').value.trim();
                    break;
                    
                case 3:
                    const age = document.getElementById('targetAge').value;
                    const tech = document.getElementById('techLevel').value;
                    if (!age || !tech) {
                        alert('–£–∫–∞–∂–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏');
                        return false;
                    }
                    formData.targetAge = age;
                    formData.techLevel = tech;
                    formData.userNeeds = document.getElementById('userNeeds').value.trim();
                    break;
                    
                case 4:
                    const features = [];
                    document.querySelectorAll('#functionalityList input:checked').forEach(cb => {
                        features.push(cb.value);
                    });
                    formData.features = features;
                    break;
                    
                case 5:
                    const style = document.getElementById('designStyle').value;
                    if (!style) {
                        alert('–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω–∞');
                        return false;
                    }
                    formData.designStyle = style;
                    formData.colorPrefs = document.getElementById('colorPrefs').value.trim();
                    formData.branding = document.getElementById('branding').value;
                    break;
                    
                case 6:
                    const budget = document.getElementById('budget').value;
                    const deadline = document.getElementById('deadline').value;
                    if (!budget || !deadline) {
                        alert('–£–∫–∞–∂–∏—Ç–µ –±—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏');
                        return false;
                    }
                    formData.budget = budget;
                    formData.deadline = deadline;
                    formData.additionalReqs = document.getElementById('additionalReqs').value.trim();
                    break;
            }
            return true;
        }
        
        // Option selection
        document.addEventListener('click', function(e) {
            if (e.target.closest('.option-card')) {
                const card = e.target.closest('.option-card');
                const container = card.parentElement;
                container.querySelectorAll('.option-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
            }
        });
        
        // Dynamic functionality based on project type
        function updateFunctionalityBasedOnType() {
            const functionalityList = document.getElementById('functionalityList');
            const projectType = formData.projectType;
            
            // Clear existing checkboxes except base ones
            const baseCheckboxes = functionalityList.innerHTML;
            
            let additionalFeatures = [];
            
            switch(projectType) {
                case 'landing':
                    additionalFeatures = [
                        {id: 'animations', value: 'animations', label: '–ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–∞—Ä–∞–ª–ª–∞–∫—Å'},
                        {id: 'popup', value: 'popup', label: '–í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞'},
                        {id: 'countdown', value: 'countdown', label: '–¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞'},
                        {id: 'testimonials', value: 'testimonials', label: '–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤'}
                    ];
                    break;
                case 'website':
                    additionalFeatures = [
                        {id: 'blog', value: 'blog', label: '–ë–ª–æ–≥/–Ω–æ–≤–æ—Å—Ç–∏'},
                        {id: 'gallery', value: 'gallery', label: '–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π'},
                        {id: 'multilang', value: 'multilang', label: '–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å'},
                        {id: 'search', value: 'search', label: '–ü–æ–∏—Å–∫ –ø–æ —Å–∞–π—Ç—É'}
                    ];
                    break;
                case 'shop':
                    additionalFeatures = [
                        {id: 'catalog', value: 'catalog', label: '–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤'},
                        {id: 'cart', value: 'cart', label: '–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫'},
                        {id: 'payment', value: 'payment', label: '–°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã'},
                        {id: 'orders', value: 'orders', label: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏'},
                        {id: 'inventory', value: 'inventory', label: '–£—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤'}
                    ];
                    break;
                case 'app':
                    additionalFeatures = [
                        {id: 'auth', value: 'auth', label: '–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π'},
                        {id: 'admin', value: 'admin', label: '–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å'},
                        {id: 'dashboard', value: 'dashboard', label: '–î–∞—à–±–æ—Ä–¥ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏'},
                        {id: 'api', value: 'api', label: 'API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π'},
                        {id: 'notifications', value: 'notifications', label: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è'}
                    ];
                    break;
            }
            
            // Add additional features
            additionalFeatures.forEach(feature => {
                const item = document.createElement('div');
                item.className = 'checkbox-item';
                item.innerHTML = `
                    <input type="checkbox" id="${feature.id}" value="${feature.value}">
                    <label for="${feature.id}">${feature.label}</label>
                `;
                functionalityList.appendChild(item);
            });
        }
        
        // Generate TZ
        function generateTZ() {
            const tzHtml = generateTZContent();
            document.getElementById('tzPreview').innerHTML = tzHtml;
            
            // Hide form and show result
            document.querySelector('.tz-card').style.display = 'none';
            document.getElementById('resultSection').classList.add('active');
        }
        
        function generateTZContent() {
            const projectTypes = {
                'landing': '–õ–µ–Ω–¥–∏–Ω–≥-—Å—Ç—Ä–∞–Ω–∏—Ü–∞',
                'website': '–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç',
                'shop': '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω',
                'app': '–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ'
            };
            
            const designStyles = {
                'modern': '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º',
                'corporate': '–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å',
                'creative': '–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω',
                'classic': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å'
            };
            
            const budgetRanges = PRICING_CONFIG.budgetRanges;
            
            return `
                <h1 style="color: var(--text-primary); border-bottom: 2px solid var(--accent-primary); padding-bottom: 1rem;">
                    –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: ${formData.projectName}
                </h1>
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">1. –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                <p><strong>–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞:</strong> ${projectTypes[formData.projectType]}</p>
                <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${formData.projectDescription}</p>
                ${formData.competitors ? `<p><strong>–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã/–ø—Ä–∏–º–µ—Ä—ã:</strong> ${formData.competitors}</p>` : ''}
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">2. –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</h2>
                <p><strong>–í–æ–∑—Ä–∞—Å—Ç:</strong> ${formData.targetAge}</p>
                <p><strong>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å:</strong> ${formData.techLevel}</p>
                ${formData.userNeeds ? `<p><strong>–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</strong> ${formData.userNeeds}</p>` : ''}
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
                <ul>
                    ${formData.features.map(feature => `<li>${getFeatureName(feature)}</li>`).join('')}
                </ul>
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">4. –î–∏–∑–∞–π–Ω-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
                <p><strong>–°—Ç–∏–ª—å:</strong> ${designStyles[formData.designStyle]}</p>
                ${formData.colorPrefs ? `<p><strong>–¶–≤–µ—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è:</strong> ${formData.colorPrefs}</p>` : ''}
                ${formData.branding ? `<p><strong>–§–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å:</strong> ${getBrandingText(formData.branding)}</p>` : ''}
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">5. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
                <ul>
                    <li>–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</li>
                    <li>–ö—Ä–æ—Å—Å–±—Ä–∞—É–∑–µ—Ä–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</li>
                    <li>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏</li>
                    <li>SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</li>
                    <li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö</li>
                </ul>
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">6. –ë—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏</h2>
                <p><strong>–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π –±—é–¥–∂–µ—Ç:</strong> ${budgetRanges[formData.budget]}</p>
                <p><strong>–†–∞—Å—á–µ—Ç–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${PRICING_CONFIG.calculateProjectCost(formData.projectType, formData.features)}‚Ç¨ (–±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π)</p>
                <div style="margin: 1rem 0; padding: 1rem; background: rgba(102, 126, 234, 0.1); border-radius: 8px; font-size: 0.9rem;">
                    <strong>–†–∞—Å—á–µ—Ç:</strong> –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å ${PRICING_CONFIG.projectTypes[formData.projectType]?.name}: ${PRICING_CONFIG.projectTypes[formData.projectType]?.min}‚Ç¨${formData.features.length > 0 ? ' + –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: ' + formData.features.map(f => PRICING_CONFIG.features[f]?.cost || 0).filter(c => c > 0).join('‚Ç¨ + ') + '‚Ç¨' : ''}
                </div>
                <p><strong>–°—Ä–æ–∫–∏:</strong> ${getDeadlineText(formData.deadline)}</p>
                ${formData.additionalReqs ? `<p><strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:</strong> ${formData.additionalReqs}</p>` : ''}
                
                <h2 style="color: var(--accent-primary); margin-top: 2rem;">7. –†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
                <p>–ü–æ –∏—Ç–æ–≥–∞–º —Ä–∞–±–æ—Ç—ã –∑–∞–∫–∞–∑—á–∏–∫ –ø–æ–ª—É—á–∏—Ç:</p>
                <ul>
                    <li>–ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–π –∫ —Ä–∞–±–æ—Ç–µ ${projectTypes[formData.projectType].toLowerCase()}</li>
                    <li>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞</li>
                    <li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é</li>
                    <li>–¢–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞</li>
                </ul>
                
                <div style="margin-top: 2rem; padding: 1rem; background: rgba(102, 126, 234, 0.1); border-radius: 8px; border-left: 4px solid var(--accent-primary);">
                    <p style="margin: 0;"><strong>–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:</strong> ${new Date().toLocaleDateString('ru-RU')}</p>
                    <p style="margin: 0;"><strong>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¢–ó:</strong> TechPortal</p>
                </div>
            `;
        }
        
        function getFeatureName(feature) {
            // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
            const extendedNames = {
                'animations': '–ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç—ã',
                'popup': '–í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞',
                'countdown': '–¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞',
                'testimonials': '–°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤',
                'blog': '–ë–ª–æ–≥/—Å–∏—Å—Ç–µ–º–∞ –Ω–æ–≤–æ—Å—Ç–µ–π',
                'gallery': '–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π',
                'multilang': '–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞',
                'search': '–ü–æ–∏—Å–∫ –ø–æ —Å–∞–π—Ç—É',
                'catalog': '–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤',
                'cart': '–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫',
                'payment': '–°–∏—Å—Ç–µ–º–∞ –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç—ã',
                'orders': '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏',
                'inventory': '–°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤',
                'dashboard': '–î–∞—à–±–æ—Ä–¥ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π',
                'notifications': '–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π'
            };
            
            return PRICING_CONFIG.features[feature]?.name || extendedNames[feature] || feature;
        }
        
        function getBrandingText(branding) {
            const texts = {
                'yes': '–ï—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å',
                'partial': '–ï—Å—Ç—å –ª–æ–≥–æ—Ç–∏–ø, –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å',
                'no': '–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è'
            };
            return texts[branding] || branding;
        }
        
        function getDeadlineText(deadline) {
            const texts = {
                'urgent': '–°—Ä–æ—á–Ω–æ (1-2 –Ω–µ–¥–µ–ª–∏)',
                'normal': '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ä–æ–∫–∏ (1-2 –º–µ—Å—è—Ü–∞)',
                'relaxed': '–ë–µ–∑ —Å–ø–µ—à–∫–∏ (2-3 –º–µ—Å—è—Ü–∞)',
                'flexible': '–ì–∏–±–∫–∏–µ —Å—Ä–æ–∫–∏'
            };
            return texts[deadline] || deadline;
        }
        
        // Export functions
        async function downloadPDF() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '‚è≥ –ó–∞–≥—Ä—É–∂–∞–µ–º PDF...';
            btn.disabled = true;
            
            try {
                await loadJsPDF();
                
                if (typeof window.jspdf === 'undefined') {
                    throw new Error('jsPDF –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
                }
            } catch (error) {
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ PDF –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç.');
                btn.textContent = originalText;
                btn.disabled = false;
                return;
            }
            
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Configure for Russian text
            doc.setFont('helvetica');
            
            let yPosition = 20;
            const lineHeight = 7;
            const pageHeight = 280;
            
            // Title
            doc.setFontSize(16);
            doc.text(`–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: ${formData.projectName}`, 20, yPosition);
            yPosition += lineHeight * 2;
            
            // Content sections
            const content = [
                {
                    title: '1. –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
                    items: [
                        `–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞: ${getProjectTypeName(formData.projectType)}`,
                        `–û–ø–∏—Å–∞–Ω–∏–µ: ${formData.projectDescription}`,
                        formData.competitors ? `–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã: ${formData.competitors}` : null
                    ]
                },
                {
                    title: '2. –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è',
                    items: [
                        `–í–æ–∑—Ä–∞—Å—Ç: ${formData.targetAge}`,
                        `–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å: ${formData.techLevel}`,
                        formData.userNeeds ? `–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏: ${formData.userNeeds}` : null
                    ]
                },
                {
                    title: '3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å',
                    items: formData.features.map(f => getFeatureName(f))
                },
                {
                    title: '4. –î–∏–∑–∞–π–Ω',
                    items: [
                        `–°—Ç–∏–ª—å: ${getDesignStyleName(formData.designStyle)}`,
                        formData.colorPrefs ? `–¶–≤–µ—Ç–∞: ${formData.colorPrefs}` : null,
                        formData.branding ? `–§–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å: ${getBrandingText(formData.branding)}` : null
                    ]
                },
                {
                    title: '5. –ë—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏',
                    items: [
                        `–ë—é–¥–∂–µ—Ç: ${getBudgetText(formData.budget)}`,
                        `–°—Ä–æ–∫–∏: ${getDeadlineText(formData.deadline)}`,
                        formData.additionalReqs ? `–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: ${formData.additionalReqs}` : null
                    ]
                }
            ];
            
            doc.setFontSize(12);
            
            content.forEach(section => {
                // Check if we need a new page
                if (yPosition > pageHeight - 40) {
                    doc.addPage();
                    yPosition = 20;
                }
                
                // Section title
                doc.setFont('helvetica', 'bold');
                doc.text(section.title, 20, yPosition);
                yPosition += lineHeight;
                
                // Section items
                doc.setFont('helvetica', 'normal');
                section.items.forEach(item => {
                    if (item) {
                        // Handle long text wrapping
                        const splitText = doc.splitTextToSize(item, 170);
                        splitText.forEach(line => {
                            if (yPosition > pageHeight - 20) {
                                doc.addPage();
                                yPosition = 20;
                            }
                            doc.text(line, 25, yPosition);
                            yPosition += lineHeight;
                        });
                    }
                });
                yPosition += lineHeight;
            });
            
            // Save PDF
            doc.save(`TZ_${formData.projectName.replace(/[^a-z–∞-—è0-9]/gi, '_')}.pdf`);
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
            btn.textContent = originalText;
            btn.disabled = false;
        }
        
        function copyToClipboard() {
            const tzText = document.getElementById('tzPreview').innerText;
            navigator.clipboard.writeText(tzText).then(() => {
                alert('–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(() => {
                alert('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç –≤—Ä—É—á–Ω—É—é.');
            });
        }
        
        function startOver() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –¢–ó? –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω.')) {
                location.reload();
            }
        }
        
        // Helper functions for PDF
        function getProjectTypeName(type) {
            return PRICING_CONFIG.projectTypes[type]?.name || type;
        }
        
        function getDesignStyleName(style) {
            const styles = {
                'modern': '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º',
                'corporate': '–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å',
                'creative': '–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω',
                'classic': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å'
            };
            return styles[style] || style;
        }
        
        function getBudgetText(budget) {
            return PRICING_CONFIG.budgetRanges[budget] || budget;
        }
    </script>
    
    <!-- Essential modules -->
    <script src="js/security.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/forms.js"></script>
    <script>
        // Initialize modules for TZ generator
        if (window.SecurityModule) {
            SecurityModule.initSecurity();
        }
        if (window.UtilsModule) {
            UtilsModule.initUtils();
        }
        if (window.FormsModule) {
            FormsModule.initForms();
        }
    </script>
</body>
</html> 