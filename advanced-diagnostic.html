<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - TechPortal</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Courier New', monospace; 
            background: #0f0f0f; 
            color: #00ff00; 
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { 
            text-align: center; 
            border: 2px solid #00ff00; 
            padding: 20px; 
            margin-bottom: 30px;
            background: rgba(0, 255, 0, 0.1);
        }
        .section { 
            border: 1px solid #333; 
            margin: 20px 0; 
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
        }
        .status { 
            padding: 5px 10px; 
            margin: 5px; 
            border-radius: 3px; 
            display: inline-block;
            font-weight: bold;
        }
        .success { background: #0f4f0f; color: #00ff00; }
        .error { background: #4f0f0f; color: #ff0000; }
        .warning { background: #4f4f0f; color: #ffff00; }
        .info { background: #0f0f4f; color: #00aaff; }
        pre { 
            background: #111; 
            padding: 10px; 
            overflow: auto; 
            border-left: 3px solid #00ff00;
            margin: 10px 0;
        }
        button { 
            background: #003300; 
            color: #00ff00; 
            border: 1px solid #00ff00; 
            padding: 10px 20px; 
            margin: 5px; 
            cursor: pointer;
            font-family: inherit;
        }
        button:hover { background: #004400; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        #results { max-height: 400px; overflow-y: auto; }
        .hidden { display: none; }
        .progress { 
            width: 100%; 
            height: 20px; 
            background: #333; 
            border-radius: 10px; 
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-bar { 
            height: 100%; 
            background: linear-gradient(90deg, #00ff00, #00aa00); 
            width: 0%; 
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç –†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê TECHPORTAL</h1>
            <p>–ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π, —Ñ—É–Ω–∫—Ü–∏–π –∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫</p>
        </div>

        <div class="section">
            <h2>‚ö° –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</h2>
            <button onclick="runFullDiagnostic()">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É</button>
            <button onclick="runPerformanceTest()">üìä –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</button>
            <button onclick="runSecurityTest()">üîí –¢–µ—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</button>
            <button onclick="runUITest()">üé® –¢–µ—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</button>
            <button onclick="clearResults()">üßπ –û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
            
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div id="progressText">–ì–æ—Ç–æ–≤ –∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ</div>
        </div>

        <div class="grid">
            <div class="section">
                <h3>üìã –°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª–µ–π</h3>
                <div id="moduleStatus"></div>
            </div>
            
            <div class="section">
                <h3>‚ö†Ô∏è –û—à–∏–±–∫–∏ –∫–æ–Ω—Å–æ–ª–∏</h3>
                <div id="consoleErrors"></div>
            </div>
            
            <div class="section">
                <h3>üåê –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã</h3>
                <div id="networkStatus"></div>
            </div>
            
            <div class="section">
                <h3>üîß DOM —ç–ª–µ–º–µ–Ω—Ç—ã</h3>
                <div id="domStatus"></div>
            </div>
        </div>

        <div class="section">
            <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏</h3>
            <div id="results"></div>
        </div>

        <div class="section">
            <h3>üõ†Ô∏è –†—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã</h3>
            <button onclick="testChatWidget()">üí¨ –¢–µ—Å—Ç —á–∞—Ç–∞</button>
            
            <button onclick="testPortfolio()">üé® –¢–µ—Å—Ç –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</button>
            <button onclick="testNavigation()">üß≠ –¢–µ—Å—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</button>
            <button onclick="testAnimations()">‚ú® –¢–µ—Å—Ç –∞–Ω–∏–º–∞—Ü–∏–π</button>
            <button onclick="testParticles()">üåå –¢–µ—Å—Ç —á–∞—Å—Ç–∏—Ü</button>
            <button onclick="testForms()">üìù –¢–µ—Å—Ç —Ñ–æ—Ä–º</button>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
        let diagnosticResults = [];
        let errorCount = 0;
        let warningCount = 0;
        let testProgress = 0;

        // –ü–µ—Ä–µ—Ö–≤–∞—Ç –æ—à–∏–±–æ–∫ –∫–æ–Ω—Å–æ–ª–∏
        const originalConsoleError = console.error;
        const originalConsoleWarn = console.warn;
        const capturedErrors = [];
        const capturedWarnings = [];

        console.error = function(...args) {
            capturedErrors.push({
                message: args.join(' '),
                timestamp: new Date().toISOString(),
                stack: new Error().stack
            });
            originalConsoleError.apply(console, args);
            updateConsoleErrors();
        };

        console.warn = function(...args) {
            capturedWarnings.push({
                message: args.join(' '),
                timestamp: new Date().toISOString()
            });
            originalConsoleWarn.apply(console, args);
            updateConsoleErrors();
        };

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –∫–æ–Ω—Å–æ–ª–∏
        function updateConsoleErrors() {
            const errorDiv = document.getElementById('consoleErrors');
            let html = '';
            
            if (capturedErrors.length > 0) {
                html += `<div class="status error">–û—à–∏–±–∫–∏: ${capturedErrors.length}</div>`;
                capturedErrors.slice(-5).forEach(error => {
                    html += `<pre class="error">‚ùå ${error.message}</pre>`;
                });
            }
            
            if (capturedWarnings.length > 0) {
                html += `<div class="status warning">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è: ${capturedWarnings.length}</div>`;
                capturedWarnings.slice(-3).forEach(warning => {
                    html += `<pre class="warning">‚ö†Ô∏è ${warning.message}</pre>`;
                });
            }
            
            if (capturedErrors.length === 0 && capturedWarnings.length === 0) {
                html = '<div class="status success">‚úÖ –ö–æ–Ω—Å–æ–ª—å —á–∏—Å—Ç–∞—è</div>';
            }
            
            errorDiv.innerHTML = html;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgress(percent, text) {
            document.getElementById('progressBar').style.width = percent + '%';
            document.getElementById('progressText').textContent = text;
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –º–æ–¥—É–ª–µ–π
        async function checkModules() {
            const modules = [
                'SecurityModule',
                'ApiModule', 
                'NavigationModule',
                'FormsModule',
                'PortfolioModule',
                'ChatModule',

                'AnimationsModule',
                'ParticlesModule'
            ];
            
            let html = '';
            let loadedModules = 0;
            
            for (const moduleName of modules) {
                const module = window[moduleName];
                if (module && typeof module === 'object') {
                    html += `<div class="status success">‚úÖ ${moduleName}</div>`;
                    loadedModules++;
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –º–æ–¥—É–ª—è
                    const functions = Object.keys(module);
                    if (functions.length > 0) {
                        html += `<div style="margin-left: 20px; font-size: 0.9em;">–§—É–Ω–∫—Ü–∏–∏: ${functions.join(', ')}</div>`;
                    }
                } else {
                    html += `<div class="status error">‚ùå ${moduleName} –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</div>`;
                }
            }
            
            html += `<div class="status info">üìä –ó–∞–≥—Ä—É–∂–µ–Ω–æ: ${loadedModules}/${modules.length}</div>`;
            document.getElementById('moduleStatus').innerHTML = html;
            
            return { loaded: loadedModules, total: modules.length };
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        function checkDOMElements() {
            const criticalElements = [
                { selector: '#particles-js', name: '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–∞—Å—Ç–∏—Ü' },
                { selector: '.navbar', name: '–ù–∞–≤–∏–≥–∞—Ü–∏—è' },
                { selector: '.hero', name: '–ì–ª–∞–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è' },
                { selector: '.portfolio', name: '–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ' },
                { selector: '.chat-widget', name: '–í–∏–¥–∂–µ—Ç —á–∞—Ç–∞' },

                { selector: '.contact-form', name: '–§–æ—Ä–º–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤' }
            ];
            
            let html = '';
            let foundElements = 0;
            
            criticalElements.forEach(element => {
                const domElement = document.querySelector(element.selector);
                if (domElement) {
                    html += `<div class="status success">‚úÖ ${element.name}</div>`;
                    foundElements++;
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏
                    const rect = domElement.getBoundingClientRect();
                    const isVisible = rect.width > 0 && rect.height > 0;
                    html += `<div style="margin-left: 20px; font-size: 0.9em;">–í–∏–¥–∏–º–æ—Å—Ç—å: ${isVisible ? '‚úÖ' : '‚ùå'}</div>`;
                } else {
                    html += `<div class="status error">‚ùå ${element.name} –Ω–µ –Ω–∞–π–¥–µ–Ω</div>`;
                }
            });
            
            html += `<div class="status info">üìä –ù–∞–π–¥–µ–Ω–æ: ${foundElements}/${criticalElements.length}</div>`;
            document.getElementById('domStatus').innerHTML = html;
            
            return { found: foundElements, total: criticalElements.length };
        }

        // –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        async function runPerformanceTest() {
            updateProgress(0, '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏...');
            
            const results = [];
            
            // –¢–µ—Å—Ç –ø–∞–º—è—Ç–∏
            if (performance.memory) {
                const memory = performance.memory;
                results.push(`üíæ –ü–∞–º—è—Ç—å: ${Math.round(memory.usedJSHeapSize / 1024 / 1024)}MB / ${Math.round(memory.totalJSHeapSize / 1024 / 1024)}MB`);
            }
            
            updateProgress(25, '–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏...');
            
            // –¢–µ—Å—Ç –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏
            const navigationTiming = performance.getEntriesByType('navigation')[0];
            if (navigationTiming) {
                const loadTime = navigationTiming.loadEventEnd - navigationTiming.fetchStart;
                results.push(`‚ö° –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ${Math.round(loadTime)}ms`);
            }
            
            updateProgress(50, '–¢–µ—Å—Ç –∞–Ω–∏–º–∞—Ü–∏–π...');
            
            // –¢–µ—Å—Ç FPS (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ)
            let frameCount = 0;
            const startTime = performance.now();
            
            function countFrames() {
                frameCount++;
                if (performance.now() - startTime < 1000) {
                    requestAnimationFrame(countFrames);
                } else {
                    results.push(`üé¨ FPS: ~${frameCount}`);
                    displayResults('–¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏', results);
                }
            }
            requestAnimationFrame(countFrames);
            
            updateProgress(100, '–¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω');
        }

        // –¢–µ—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        async function runSecurityTest() {
            updateProgress(0, '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...');
            
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ CSP
            const cspMeta = document.querySelector('meta[http-equiv="Content-Security-Policy"]');
            results.push(`üõ°Ô∏è CSP: ${cspMeta ? '‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' : '‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}`);
            
            updateProgress(33, '–ü—Ä–æ–≤–µ—Ä–∫–∞ CSRF —Ç–æ–∫–µ–Ω–∞...');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ CSRF —Ç–æ–∫–µ–Ω–∞
            if (window.SecurityModule) {
                try {
                    const token = await window.SecurityModule.getCSRFToken();
                    results.push(`üîë CSRF —Ç–æ–∫–µ–Ω: ${token ? '‚úÖ –ü–æ–ª—É—á–µ–Ω' : '‚ùå –û—à–∏–±–∫–∞'}`);
                } catch (error) {
                    results.push(`üîë CSRF —Ç–æ–∫–µ–Ω: ‚ùå ${error.message}`);
                }
            }
            
            updateProgress(66, '–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫...');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫
            const externalLinks = document.querySelectorAll('a[href^="http"]');
            let secureLinks = 0;
            externalLinks.forEach(link => {
                if (link.getAttribute('rel')?.includes('noopener')) {
                    secureLinks++;
                }
            });
            results.push(`üîó –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏: ${secureLinks}/${externalLinks.length}`);
            
            updateProgress(100, '–¢–µ—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω');
            displayResults('–¢–µ—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏', results);
        }

        // –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
        async function runFullDiagnostic() {
            diagnosticResults = [];
            updateProgress(0, '–ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏...');
            
            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            clearResults();
            
            updateProgress(10, '–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥—É–ª–µ–π...');
            const moduleResults = await checkModules();
            
            updateProgress(30, '–ü—Ä–æ–≤–µ—Ä–∫–∞ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤...');
            const domResults = checkDOMElements();
            
            updateProgress(50, '–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫...');
            updateConsoleErrors();
            
            updateProgress(70, '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏...');
            await checkNetworkStatus();
            
            updateProgress(90, '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞...');
            
            // –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
                            const moduleScore = (moduleResults.loaded / moduleResults.total) * 40;
            const domScore = (domResults.found / domResults.total) * 30;
            const errorScore = Math.max(0, 20 - capturedErrors.length * 5);
            const warningScore = Math.max(0, 10 - capturedWarnings.length * 2);
            const totalScore = Math.round(moduleScore + domScore + errorScore + warningScore);
            const report = generateReport(totalScore, moduleResults, domResults);
            
            updateProgress(100, '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
            displayResults('üéØ –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç', [report]);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            generateRecommendations();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        async function checkNetworkStatus() {
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
            const resources = performance.getEntriesByType('resource');
            const failedResources = resources.filter(r => r.transferSize === 0 && r.decodedBodySize === 0);
            
            results.push(`üìä –ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤: ${resources.length}`);
            if (failedResources.length > 0) {
                results.push(`‚ùå –ù–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫: ${failedResources.length}`);
                failedResources.slice(0, 3).forEach(resource => {
                    results.push(`  ‚Ä¢ ${resource.name}`);
                });
            } else {
                results.push(`‚úÖ –í—Å–µ —Ä–µ—Å—É—Ä—Å—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ`);
            }
            
            document.getElementById('networkStatus').innerHTML = results.map(r => `<div>${r}</div>`).join('');
        }



        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
        function generateReport(score, moduleResults, domResults) {
            let status = 'error';
            let message = '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏';
            
            if (score >= 80) {
                status = 'success';
                message = '–û—Ç–ª–∏—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ';
            } else if (score >= 60) {
                status = 'warning';
                message = '–¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è';
            }
            
            return `
                <div class="status ${status}">
                    üéØ –û–±—â–∏–π –±–∞–ª–ª: ${score}/100 - ${message}
                </div>
                <div style="margin-top: 10px;">
                    üì¶ –ú–æ–¥—É–ª–∏: ${moduleResults.loaded}/${moduleResults.total}<br>
                    üé® DOM: ${domResults.found}/${domResults.total}<br>
                    ‚ùå –û—à–∏–±–∫–∏: ${capturedErrors.length}<br>
                    ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è: ${capturedWarnings.length}
                </div>
            `;
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
        function generateRecommendations() {
            const recommendations = [];
            
            if (capturedErrors.length > 0) {
                recommendations.push('üîß –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –∫–æ–Ω—Å–æ–ª–∏');
            }
            if (capturedWarnings.length > 5) {
                recommendations.push('‚ö†Ô∏è –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π');
            }
            if (!window.ParticlesModule) {
                recommendations.push('üåå –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª—è —á–∞—Å—Ç–∏—Ü');
            }
            
            if (recommendations.length > 0) {
                displayResults('üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏', recommendations);
            }
        }

        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        function testChatWidget() {
            const chatWidget = document.querySelector('.chat-widget');
            const results = [`–í–∏–¥–∂–µ—Ç —á–∞—Ç–∞: ${chatWidget ? '‚úÖ –ù–∞–π–¥–µ–Ω' : '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω'}`];
            
            if (chatWidget && window.ChatModule) {
                try {
                    // –¢–µ—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è
                    const toggleBtn = chatWidget.querySelector('.chat-toggle');
                    if (toggleBtn) {
                        toggleBtn.click();
                        results.push('‚úÖ –¢–µ—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–æ–π–¥–µ–Ω');
                        setTimeout(() => toggleBtn.click(), 1000);
                    }
                } catch (error) {
                    results.push(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
                }
            }
            
            displayResults('üí¨ –¢–µ—Å—Ç —á–∞—Ç–∞', results);
        }



        function testPortfolio() {
            const results = [];
            const portfolioSection = document.querySelector('.portfolio');
            
            results.push(`–°–µ–∫—Ü–∏—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ: ${portfolioSection ? '‚úÖ –ù–∞–π–¥–µ–Ω–∞' : '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–∞'}`);
            
            if (portfolioSection) {
                const items = portfolioSection.querySelectorAll('.portfolio-item');
                results.push(`–ü—Ä–æ–µ–∫—Ç—ã: ${items.length}`);
                
                // –¢–µ—Å—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
                if (items.length > 0 && window.PortfolioModule) {
                    try {
                        const firstItem = items[0];
                        const link = firstItem.querySelector('.portfolio-link');
                        if (link) {
                            results.push('‚úÖ –°—Å—ã–ª–∫–∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –Ω–∞–π–¥–µ–Ω—ã');
                        }
                    } catch (error) {
                        results.push(`‚ùå –û—à–∏–±–∫–∞ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ: ${error.message}`);
                    }
                }
            }
            
            displayResults('üé® –¢–µ—Å—Ç –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ', results);
        }

        function testNavigation() {
            const results = [];
            const navbar = document.querySelector('.navbar');
            
            results.push(`–ù–∞–≤–∏–≥–∞—Ü–∏—è: ${navbar ? '‚úÖ –ù–∞–π–¥–µ–Ω–∞' : '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–∞'}`);
            
            if (navbar) {
                const links = navbar.querySelectorAll('.nav-link');
                results.push(`–°—Å—ã–ª–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: ${links.length}`);
                
                const hamburger = navbar.querySelector('.hamburger');
                results.push(`–ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é: ${hamburger ? '‚úÖ –ù–∞–π–¥–µ–Ω–æ' : '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ'}`);
            }
            
            displayResults('üß≠ –¢–µ—Å—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏', results);
        }

        function testAnimations() {
            const results = [];
            
            if (window.AnimationsModule) {
                results.push('‚úÖ –ú–æ–¥—É–ª—å –∞–Ω–∏–º–∞—Ü–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω');
                
                const animatedElements = document.querySelectorAll('[class*="animate"]');
                results.push(`–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: ${animatedElements.length}`);
            } else {
                results.push('‚ùå –ú–æ–¥—É–ª—å –∞–Ω–∏–º–∞—Ü–∏–π –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
            }
            
            displayResults('‚ú® –¢–µ—Å—Ç –∞–Ω–∏–º–∞—Ü–∏–π', results);
        }

        function testParticles() {
            const results = [];
            const particlesContainer = document.querySelector('#particles-js');
            
            results.push(`–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–∞—Å—Ç–∏—Ü: ${particlesContainer ? '‚úÖ –ù–∞–π–¥–µ–Ω' : '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω'}`);
            
            if (particlesContainer) {
                const hasParticles = particlesContainer.children.length > 0 || 
                                   particlesContainer.innerHTML.length > 0;
                results.push(`–ß–∞—Å—Ç–∏—Ü—ã –∞–∫—Ç–∏–≤–Ω—ã: ${hasParticles ? '‚úÖ –î–∞' : '‚ùå –ù–µ—Ç'}`);
                
                if (typeof particlesJS !== 'undefined') {
                    results.push('‚úÖ ParticlesJS –∑–∞–≥—Ä—É–∂–µ–Ω');
                } else if (particlesContainer.querySelectorAll('.fallback-particle').length > 0) {
                    results.push('‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è fallback —á–∞—Å—Ç–∏—Ü—ã');
                } else {
                    results.push('‚ùå –ß–∞—Å—Ç–∏—Ü—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç');
                }
            }
            
            displayResults('üåå –¢–µ—Å—Ç —á–∞—Å—Ç–∏—Ü', results);
        }

        function testForms() {
            const results = [];
            const forms = document.querySelectorAll('form');
            
            results.push(`–§–æ—Ä–º—ã –Ω–∞–π–¥–µ–Ω–æ: ${forms.length}`);
            
            forms.forEach((form, index) => {
                const inputs = form.querySelectorAll('input, textarea, select');
                results.push(`–§–æ—Ä–º–∞ ${index + 1}: ${inputs.length} –ø–æ–ª–µ–π`);
            });
            
            if (window.FormsModule) {
                results.push('‚úÖ –ú–æ–¥—É–ª—å —Ñ–æ—Ä–º –∑–∞–≥—Ä—É–∂–µ–Ω');
            } else {
                results.push('‚ùå –ú–æ–¥—É–ª—å —Ñ–æ—Ä–º –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
            }
            
            displayResults('üìù –¢–µ—Å—Ç —Ñ–æ—Ä–º', results);
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function displayResults(title, results) {
            const resultsDiv = document.getElementById('results');
            const resultHtml = `
                <div class="section">
                    <h4>${title}</h4>
                    ${Array.isArray(results) ? results.map(r => `<div>${r}</div>`).join('') : results}
                </div>
            `;
            resultsDiv.innerHTML += resultHtml;
        }

        // –û—á–∏—Å—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function clearResults() {
            document.getElementById('results').innerHTML = '<div class="info">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –∑–¥–µ—Å—å...</div>';
            updateProgress(0, '–ì–æ—Ç–æ–≤ –∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ');
        }

        // –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ UI
        function runUITest() {
            updateProgress(0, '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞...');
            
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏
            const viewportWidth = window.innerWidth;
            results.push(`üì± –®–∏—Ä–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞: ${viewportWidth}px`);
            
            if (viewportWidth <= 768) {
                results.push('üì± –ú–æ–±–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω');
            } else if (viewportWidth <= 1024) {
                results.push('üíª –ü–ª–∞–Ω—à–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω');  
            } else {
                results.push('üñ•Ô∏è –î–µ—Å–∫—Ç–æ–ø–Ω—ã–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω');
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤
            const computedStyle = getComputedStyle(document.body);
            results.push(`üî§ –®—Ä–∏—Ñ—Ç: ${computedStyle.fontFamily}`);
            
            updateProgress(50, '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã...');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
            const isDark = computedStyle.backgroundColor === 'rgb(15, 15, 15)' || 
                          computedStyle.color.includes('255');
            results.push(`üåô –¢–µ–º–Ω–∞—è —Ç–µ–º–∞: ${isDark ? '‚úÖ –ê–∫—Ç–∏–≤–Ω–∞' : '‚ùå –ù–µ–∞–∫—Ç–∏–≤–Ω–∞'}`);
            
            updateProgress(100, '–¢–µ—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∑–∞–≤–µ—Ä—à–µ–Ω');
            displayResults('üé® –¢–µ—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞', results);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω');
            updateConsoleErrors();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            setInterval(() => {
                checkModules();
                updateConsoleErrors();
            }, 30000);
        });
    </script>
</body>
</html> 